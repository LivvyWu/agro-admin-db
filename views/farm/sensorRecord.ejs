<!DOCTYPE html>
<html>
<head>
    <% include ../head.ejs%>
    <!-- Ionicons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/ionicons/2.0.1/css/ionicons.min.css">
    <!-- Morris charts -->
    <link rel="stylesheet" href="/plugins/morris/morris.css">
</head>
<body class="hold-transition skin-blue sidebar-mini">
<div class="wrapper">
    <% include ../navigation.ejs %>
    <% include ../sidebar.ejs %>

    <div class="content-wrapper">
        <section class="content-header">
            <h1>
                環控統計
                <small>歷史資料</small>
            </h1>
            <ol class="breadcrumb">
                <li><a href="#"><i class="fa fa-dashboard"></i> 首頁</a></li>
                <li><a href="#">農場</a></li>
                <li class="active">環控統計</li>
            </ol>
        </section>

        <section class="content">
            <div class="nav-tabs-custom">
                <ul class="nav nav-tabs">
                    <% farmInfo.forEach(function (farm, index) { %>
                    <li class="active"><a href="#tab_<%=index%>" data-toggle="tab"><%= farm.field_name %></a></li>
                    <% })%>
                </ul>
            <div class="row">
                <div class="col-md-12">
                    <div class="box box-primary">
                        <div class="box-header with-border">
                            <h3 class="box-title">農場空氣濕度紀錄</h3>
                            <a href="/equipment/datachart/1" class="small-box-footer">More info <i class="fa fa-arrow-circle-right"></i></a>
                            <div class="box-tools pull-right">
                                <button type="button" class="btn btn-box-tool" data-widget="collapse"><i class="fa fa-minus"></i>
                                </button>
                                <button type="button" class="btn btn-box-tool" data-widget="remove"><i class="fa fa-times"></i></button>
                            </div>
                        </div>
                        <div class="box-body">
                            <div class="chart">
                                <canvas id="areaChart" style="height:250px"></canvas>
                            </div>
                        </div>
                        <!-- /.box-body -->
                    </div>
                </div>
            </div>


            <div class="row">
                <div class="col-md-6">
                    <div class="box box-primary">
                        <div class="box-header with-border">
                            <h3 class="box-title">農場空氣溫度紀錄</h3>
                            <a href="/equipment/datachart/1" class="small-box-footer">More info <i class="fa fa-arrow-circle-right"></i></a>

                            <div class="box-tools pull-right">
                                <button type="button" class="btn btn-box-tool" data-widget="collapse"><i class="fa fa-minus"></i>
                                </button>
                                <button type="button" class="btn btn-box-tool" data-widget="remove"><i class="fa fa-times"></i></button>
                            </div>
                        </div>
                        <div class="box-body chart-responsive">
                            <div class="chart" id="temperature-chart" style="height: 300px;"></div>
                        </div>
                        <!-- /.box-body -->
                    </div>
                </div>
                <div class="col-md-6">
                    <div class="box box-primary">
                        <div class="box-header with-border">
                            <h3 class="box-title">農場土壤濕度紀錄</h3>
                            <a href="/equipment/datachart/1" class="small-box-footer">More info <i class="fa fa-arrow-circle-right"></i></a>

                            <div class="box-tools pull-right">
                                <button type="button" class="btn btn-box-tool" data-widget="collapse"><i class="fa fa-minus"></i>
                                </button>
                                <button type="button" class="btn btn-box-tool" data-widget="remove"><i class="fa fa-times"></i></button>
                            </div>
                        </div>
                        <div class="box-body chart-responsive">
                            <div class="chart" id="line-chart" style="height: 300px;"></div>
                        </div>
                        <!-- /.box-body -->
                    </div>

                </div>
                <!-- /.box -->
            </div>

            <div class="row">
                <div class="col-md-6">
                    <div class="box box-primary">
                        <div class="box-header with-border">
                            <h3 class="box-title">農場土壤酸鹼值紀錄</h3>
                            <a href="/equipment/datachart/1" class="small-box-footer">More info <i class="fa fa-arrow-circle-right"></i></a>

                            <div class="box-tools pull-right">
                                <button type="button" class="btn btn-box-tool" data-widget="collapse"><i class="fa fa-minus"></i>
                                </button>
                                <button type="button" class="btn btn-box-tool" data-widget="remove"><i class="fa fa-times"></i></button>
                            </div>
                        </div>
                        <div class="box-body chart-responsive">
                            <div class="chart" id="line-chart1" style="height: 300px;"></div>
                        </div>
                        <!-- /.box-body -->
                    </div>
                </div>
                <div class="col-md-6">
                    <div class="box box-primary">
                        <div class="box-header with-border">
                            <h3 class="box-title">土壤電解質紀錄</h3>
                            <a href="/equipment/datachart/1" class="small-box-footer">More info <i class="fa fa-arrow-circle-right"></i></a>

                            <div class="box-tools pull-right">
                                <button type="button" class="btn btn-box-tool" data-widget="collapse"><i class="fa fa-minus"></i>
                                </button>
                                <button type="button" class="btn btn-box-tool" data-widget="remove"><i class="fa fa-times"></i></button>
                            </div>
                        </div>
                        <div class="box-body chart-responsive">
                            <div class="chart" id="line-chart2" style="height: 300px;"></div>
                        </div>
                        <!-- /.box-body -->
                    </div>

                </div>
                <!-- /.box -->
            </div>

            <div class="row">
                <div class="col-md-6">
                    <div class="box box-primary">
                        <div class="box-header with-border">
                            <h3 class="box-title">農場二氧化碳紀錄</h3>
                            <a href="/equipment/datachart/1" class="small-box-footer">More info <i class="fa fa-arrow-circle-right"></i></a>

                            <div class="box-tools pull-right">
                                <button type="button" class="btn btn-box-tool" data-widget="collapse"><i class="fa fa-minus"></i>
                                </button>
                                <button type="button" class="btn btn-box-tool" data-widget="remove"><i class="fa fa-times"></i></button>
                            </div>
                        </div>
                        <div class="box-body chart-responsive">
                            <div class="chart" id="line-chart3" style="height: 300px;"></div>
                        </div>
                        <!-- /.box-body -->
                    </div>
                </div>
                <div class="col-md-6">
                    <div class="box box-primary">
                        <div class="box-header with-border">
                            <h3 class="box-title">農場照度紀錄</h3>
                            <a href="/equipment/datachart/1" class="small-box-footer">More info <i class="fa fa-arrow-circle-right"></i></a>

                            <div class="box-tools pull-right">
                                <button type="button" class="btn btn-box-tool" data-widget="collapse"><i class="fa fa-minus"></i>
                                </button>
                                <button type="button" class="btn btn-box-tool" data-widget="remove"><i class="fa fa-times"></i></button>
                            </div>
                        </div>
                        <div class="box-body chart-responsive">
                            <div class="chart" id="line-chart4" style="height: 300px;"></div>
                        </div>
                        <!-- /.box-body -->
                    </div>

                </div>
                <!-- /.box -->
            </div>

        </section>
    </div>
</div>


<!-- jQuery 2.2.3 -->
<script src="/plugins/jQuery/jquery-2.2.3.min.js"></script>
<!-- Bootstrap 3.3.6 -->
<script src="/bootstrap/js/bootstrap.min.js"></script>
<!-- ChartJS 1.0.1 -->
<script src="/plugins/chartjs/Chart.min.js"></script>
<!-- FastClick -->
<script src="/plugins/fastclick/fastclick.js"></script>
<!-- Morris.js charts -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/raphael/2.1.0/raphael-min.js"></script>
<script src="/plugins/morris/morris.min.js"></script>
<!-- AdminLTE App -->
<script src="/js/app.min.js"></script>
<!-- AdminLTE for demo purposes -->
<script src="/js/demo.js"></script>
<script>


    $(function () {
        // Get context with jQuery - using jQuery's .get() method.
        var areaChartCanvas = $("#areaChart").get(0).getContext("2d");
        // This will get the first returned node in the jQuery collection.
        var areaChart = new Chart(areaChartCanvas);

        var areaChartData = {
            labels: ["1", "2", "3", "4", "5", "6", "7", "8", "9", "10", "11", "12"],
            datasets: [
                {
                    label: "第一濕度計",
                    fillColor: "rgba(210, 214, 222, 1)",
                    strokeColor: "rgba(210, 214, 222, 1)",
                    pointColor: "rgba(210, 214, 222, 1)",
                    pointStrokeColor: "#c1c7d1",
                    pointHighlightFill: "#fff",
                    pointHighlightStroke: "rgba(220,220,220,1)",
                    data: [50, 59, 80, 81, 56, 55, 40, 80, 81, 56, 55, 40]
                },
                {
                    label: "第二濕度計",
                    fillColor: "rgba(60,141,188,0.9)",
                    strokeColor: "rgba(60,141,188,0.8)",
                    pointColor: "#3b8bba",
                    pointStrokeColor: "rgba(60,141,188,1)",
                    pointHighlightFill: "#fff",
                    pointHighlightStroke: "rgba(60,141,188,1)",
                    data: [28, 48, 40, 19, 86, 27, 90, 40, 19, 86, 27, 90]
                }
            ]
        };

        var areaChartOptions = {
            //Boolean - If we should show the scale at all
            showScale: true,
            //Boolean - Whether grid lines are shown across the chart
            scaleShowGridLines: false,
            //String - Colour of the grid lines
            scaleGridLineColor: "rgba(0,0,0,.05)",
            //Number - Width of the grid lines
            scaleGridLineWidth: 1,
            //Boolean - Whether to show horizontal lines (except X axis)
            scaleShowHorizontalLines: true,
            //Boolean - Whether to show vertical lines (except Y axis)
            scaleShowVerticalLines: true,
            //Boolean - Whether the line is curved between points
            bezierCurve: true,
            //Number - Tension of the bezier curve between points
            bezierCurveTension: 0.3,
            //Boolean - Whether to show a dot for each point
            pointDot: false,
            //Number - Radius of each point dot in pixels
            pointDotRadius: 4,
            //Number - Pixel width of point dot stroke
            pointDotStrokeWidth: 1,
            //Number - amount extra to add to the radius to cater for hit detection outside the drawn point
            pointHitDetectionRadius: 20,
            //Boolean - Whether to show a stroke for datasets
            datasetStroke: true,
            //Number - Pixel width of dataset stroke
            datasetStrokeWidth: 2,
            //Boolean - Whether to fill the dataset with a color
            datasetFill: true,
            //String - A legend template//Boolean - whether to maintain the starting aspect ratio or not when responsive, if set to false, will take up entire container
            maintainAspectRatio: true,
            //Boolean - whether to make the chart responsive to window resizing
            responsive: true
        };

        //Create the line chart
        areaChart.Line(areaChartData, areaChartOptions);

        // AREA CHART
        var area = new Morris.Line({
            element: 'temperature-chart',
            resize: true,
            data: [
                {day: '2015-10-1', item1: 10, item2: 11},
                {day: '2015-10-2', item1: 9, item2: 10},
                {day: '2015-10-3', item1: 15, item2: 17},
                {day: '2015-10-4', item1: 20, item2: 19},
                {day: '2015-10-5', item1: 25, item2: 27},
                {day: '2015-10-6', item1: 28, item2: 29},
                {day: '2015-10-7', item1: 30, item2: 33},
                {day: '2015-10-8', item1: 34, item2: 34},
                {day: '2015-10-9', item1: 29, item2: 30},
                {day: '2015-10-10', item1: 25, item2: 22},
                {day: '2015-10-11', item1: 20, item2: 21},
                {day: '2015-10-12', item1: 15, item2: 18},
                {day: '2015-10-13', item1: 13, item2: 15},
                {day: '2015-10-14', item1: 11, item2: 16},
                {day: '2015-10-15', item1: 15, item2: 17},
                {day: '2015-10-16', item1: 20, item2: 19},
                {day: '2015-10-17', item1: 25, item2: 27},
                {day: '2015-10-18', item1: 28, item2: 29},
                {day: '2015-10-19', item1: 30, item2: 33},
                {day: '2015-10-20', item1: 34, item2: 34},
                {day: '2015-10-21', item1: 29, item2: 30},
                {day: '2015-10-21', item1: 25, item2: 22},
                {day: '2015-10-22', item1: 20, item2: 21},
                {day: '2015-10-23', item1: 15, item2: 18}
            ],
            xkey: 'day',
            ykeys: ['item1', 'item2'],
            labels: ['第一溫度計', '第二溫度計'],
            resize: true,
            ymax: 40,
            lineColors: ['#00a65a', '#3c8dbc'],
            postUnits: '°c',
            hideHover: 'auto',
            xLabels: "day",
            xLabelFormat: function (x){
                var d = new Date(x);
                return d.getFullYear() + '/' + (d.getMonth() + 1)  + '/' + (d.getDate()) ;
            }
        });

        // LINE CHART
        var line = new Morris.Line({
            element: 'line-chart',
            resize: true,
            data: [
                {month: '2015-10-1', item1: 50},
                {month: '2015-10-2', item1: 60},
                {month: '2015-10-3', item1: 70},
                {month: '2015-10-4', item1: 55},
                {month: '2015-10-5', item1: 65},
                {month: '2015-10-6', item1: 75},
                {month: '2015-10-7', item1: 80},
                {month: '2015-10-8', item1: 44},
                {month: '2015-10-9', item1: 67},
                {month: '2015-10-10', item1: 88},
                {month: '2015-10-11', item1: 67},
                {month: '2015-10-12', item1: 67},
                {month: '2015-10-13', item1: 50},
                {month: '2015-10-14', item1: 60},
                {month: '2015-10-15', item1: 70},
                {month: '2015-10-16', item1: 55},
                {month: '2015-10-17', item1: 65},
                {month: '2015-10-18', item1: 75},
                {month: '2015-10-19', item1: 80},
                {month: '2015-10-20', item1: 44},
                {month: '2015-10-21', item1: 67},
                {month: '2015-10-22', item1: 88},
                {month: '2015-10-23', item1: 67},
                {month: '2015-10-24', item1: 67}
            ],
            xkey: 'month',
            ykeys: ['item1'],
            labels: ['溫度'],
            postUnits: ' %',
            lineColors: ['#5de5e5'],
            hideHover: 'auto',
            xLabelFormat: function (x){
                var d = new Date(x);
                return d.getFullYear() + '/' + (d.getMonth() + 1)  + '/' + (d.getDate()) ;
            }
        });

        // LINE CHART
        var line = new Morris.Bar({
            element: 'line-chart1',
            resize: true,
            data: [
                {day: '2015-10-1', item1: 5.3},
                {day: '2015-10-2', item1: 5.4},
                {day: '2015-10-3', item1: 5.5},
                {day: '2015-10-4', item1: 5.6},
                {day: '2015-10-5', item1: 5.7},
                {day: '2015-10-6', item1: 5.3},
                {day: '2015-10-7', item1: 5.0},
                {day: '2015-10-8', item1: 5.5},
                {day: '2015-10-9', item1: 5.6},
                {day: '2015-10-10', item1: 6.0},
                {day: '2015-10-11', item1: 6.1},
                {day: '2015-10-12', item1: 6.2},
                {day: '2015-10-13', item1: 6.3},
                {day: '2015-10-14', item1: 6.4},
                {day: '2015-10-15', item1: 6.5},
                {day: '2015-10-16', item1: 6.6},
                {day: '2015-10-17', item1: 6.7},
                {day: '2015-10-18', item1: 5.6},
                {day: '2015-10-19', item1: 5.6},
                {day: '2015-10-20', item1: 5.6},
                {day: '2015-10-21', item1: 5.6},
                {day: '2015-10-21', item1: 5.6},
                {day: '2015-10-22', item1: 5.6},
                {day: '2015-10-23', item1: 5.6}
            ],
            xkey: 'day',
            ykeys: ['item1'],
            labels: ['pH值'],
            lineColors: ['#f56954'],
            hideHover: 'auto',
            ymax: 7
        });

        // LINE CHART
        var line = new Morris.Line({
            element: 'line-chart2',
            resize: true,
            data: [
                {month: '2015-10-1', item1: 50},
                {month: '2015-10-2', item1: 60},
                {month: '2015-10-3', item1: 70},
                {month: '2015-10-4', item1: 55},
                {month: '2015-10-5', item1: 65},
                {month: '2015-10-6', item1: 75},
                {month: '2015-10-7', item1: 80},
                {month: '2015-10-8', item1: 44},
                {month: '2015-10-9', item1: 67},
                {month: '2015-10-10', item1: 88},
                {month: '2015-10-11', item1: 67},
                {month: '2015-10-12', item1: 67},
                {month: '2015-10-13', item1: 50},
                {month: '2015-10-14', item1: 60},
                {month: '2015-10-15', item1: 70},
                {month: '2015-10-16', item1: 55},
                {month: '2015-10-17', item1: 65},
                {month: '2015-10-18', item1: 75},
                {month: '2015-10-19', item1: 80},
                {month: '2015-10-20', item1: 44},
                {month: '2015-10-21', item1: 67},
                {month: '2015-10-22', item1: 88},
                {month: '2015-10-23', item1: 67},
                {month: '2015-10-24', item1: 67}
            ],
            xkey: 'month',
            ykeys: ['item1'],
            labels: ['電解質'],
            postUnits: ['μS/cm'],
            lineColors: ['#f56954'],
            hideHover: 'auto'
        });

        // LINE CHART
        var line = new Morris.Line({
            element: 'line-chart3',
            resize: true,
            data: [
                {month: '2015-10-1', item1: 50},
                {month: '2015-10-2', item1: 60},
                {month: '2015-10-3', item1: 70},
                {month: '2015-10-4', item1: 55},
                {month: '2015-10-5', item1: 65},
                {month: '2015-10-6', item1: 75},
                {month: '2015-10-7', item1: 80},
                {month: '2015-10-8', item1: 44},
                {month: '2015-10-9', item1: 67},
                {month: '2015-10-10', item1: 88},
                {month: '2015-10-11', item1: 67},
                {month: '2015-10-12', item1: 67},
                {month: '2015-10-13', item1: 50},
                {month: '2015-10-14', item1: 60},
                {month: '2015-10-15', item1: 70},
                {month: '2015-10-16', item1: 55},
                {month: '2015-10-17', item1: 65},
                {month: '2015-10-18', item1: 75},
                {month: '2015-10-19', item1: 80},
                {month: '2015-10-20', item1: 44},
                {month: '2015-10-21', item1: 67},
                {month: '2015-10-22', item1: 88},
                {month: '2015-10-23', item1: 67},
                {month: '2015-10-24', item1: 67}
            ],
            xkey: 'month',
            ykeys: ['item1'],
            labels: ['濕度'],
            postUnits: 'ppm',
            lineColors: ['#f56954'],
            hideHover: 'auto'
        });

        // LINE CHART
        var line = new Morris.Bar({
            element: 'line-chart4',
            resize: true,
            data: [
                {month: '2015-10-1', item1: 50},
                {month: '2015-10-2', item1: 60},
                {month: '2015-10-3', item1: 70},
                {month: '2015-10-4', item1: 55},
                {month: '2015-10-5', item1: 65},
                {month: '2015-10-6', item1: 75},
                {month: '2015-10-7', item1: 80},
                {month: '2015-10-8', item1: 44},
                {month: '2015-10-9', item1: 67},
                {month: '2015-10-10', item1: 88},
                {month: '2015-10-11', item1: 67},
                {month: '2015-10-12', item1: 67},
                {month: '2015-10-13', item1: 50},
                {month: '2015-10-14', item1: 60},
                {month: '2015-10-15', item1: 70},
                {month: '2015-10-16', item1: 55},
                {month: '2015-10-17', item1: 65},
                {month: '2015-10-18', item1: 75},
                {month: '2015-10-19', item1: 80},
                {month: '2015-10-20', item1: 44},
                {month: '2015-10-21', item1: 67},
                {month: '2015-10-22', item1: 88},
                {month: '2015-10-23', item1: 67},
                {month: '2015-10-24', item1: 67}
            ],
            xkey: 'month',
            ykeys: ['item1'],
            labels: ['照度'],
            postUnits: 'Ｋ',
            barColors: ['#54e0f5'],
            hideHover: 'auto'
        });


    });


</script>
</body>
</html>
